syntax = "proto3";

package auth;

enum Error {
	OK = 0;
	INVALID_REQUEST = 400;
	UNAUTHORIZED = 401;
	INTERNAL_ERROR = 500;
	NOTFOUND = 404;
}

// Credential used to control access
message Credential {
	// set to true if this credential is generated from internal service.
	// Internal credential is trusted and have full access to any function
	// when internal is set to true, all other fields is ignored
	bool IsInternal = 1;
	
	// Account of the user
	string AccountId = 2;

	// Id of the user
	string UserId = 3;

	// Scope of user in the account
	Scope UserScope = 4;
	
	// scope of client
	Scope Scope = 5;

}

message ScopesResponse {
	repeated Scope Scopes = 1;
}

message EmptyResponse {}

message Empty {}

service ScopeMgt {
	rpc Read(IdRequest) returns (Scope) {}
	rpc List(Empty) returns (ScopesResponse) {}
}