{
  "swagger": "2.0",
  "info": {
    "title": "chat/chat.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "chatAssignStrategy": {
      "type": "string",
      "enum": [
        "ALLAGENTS",
        "AGENTGROUP",
        "AGENTS",
        "MOSTRECENT",
        "ROUNDROBINALLAGENTS",
        "ROUNDROBINAGENTS"
      ],
      "default": "ALLAGENTS"
    },
    "chatAttachment": {
      "type": "object",
      "properties": {
        "Type": {
          "type": "string",
          "description": "+ receipt, ticket, ...\n    - quick_replies\n      + ask_form\n      + generic_template\n      + list_template\n  Input control\n    - button           -\u003e send list of event to chat\n    - url\n    - postback_button (single button)\n    - textbox           -\u003e contains value\n    - ratebox            -\u003e rate the chat (like 5 buttons but have beautiful display)",
          "title": "Type show type of attachment\nValue:\n  Template\n    - file\n      + video\n      + audio\n      + image\n    - preview (preview for link)\n    - content\n    - template"
        },
        "Payload": {
          "type": "string"
        }
      }
    },
    "chatBool": {
      "type": "object",
      "properties": {
        "Bool": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "chatChat": {
      "type": "object",
      "properties": {
        "Id": {
          "type": "string"
        },
        "AccountId": {
          "type": "string"
        },
        "CreatedTime": {
          "type": "string",
          "title": "Creation time"
        },
        "LTime": {
          "type": "string",
          "title": "Last active time"
        },
        "XTime": {
          "type": "string",
          "title": "Closed time"
        },
        "Users": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatUser"
          }
        },
        "ChannelId": {
          "type": "string"
        },
        "Tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "title": "get number of unread message"
    },
    "chatChatEvent": {
      "type": "object",
      "properties": {
        "Id": {
          "type": "string",
          "title": "ID of chat evet"
        },
        "Type": {
          "$ref": "#/definitions/chatChatEventType",
          "title": "Type indicates type of chat event"
        },
        "ChatId": {
          "type": "string",
          "title": "ChatId refer to ID of chat which contains this chat event"
        },
        "CreatedTime": {
          "type": "string",
          "title": "CreatedTime is a RFC3339 string, tell when was event sent"
        },
        "SenderId": {
          "type": "string",
          "title": "SenderId refer to who has sent the event, could be Agent, User or System"
        },
        "SenderType": {
          "$ref": "#/definitions/chatUserType",
          "title": "SenderType indicate type of sender"
        },
        "Text": {
          "type": "string",
          "title": "Content could be raw text, could be JSON data based on type"
        },
        "Format": {
          "type": "string",
          "title": "Could be \"\", \"raw\" or \"markdown\""
        },
        "Attachments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatAttachment"
          }
        }
      }
    },
    "chatChatEventType": {
      "type": "string",
      "enum": [
        "NONE",
        "MESSAGE",
        "CLOSED",
        "JOINED",
        "SEEN",
        "RATED",
        "INPUT",
        "TAG",
        "UNTAG",
        "TRANSFER"
      ],
      "default": "NONE",
      "title": "ChateEventType"
    },
    "chatChatEvents": {
      "type": "object",
      "properties": {
        "Events": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatChatEvent"
          }
        }
      }
    },
    "chatChatWithEvents": {
      "type": "object",
      "properties": {
        "Chat": {
          "$ref": "#/definitions/chatChat"
        },
        "Events": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatChatEvent"
          }
        }
      }
    },
    "chatChats": {
      "type": "object",
      "properties": {
        "Chats": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatChat"
          }
        }
      }
    },
    "chatChatsWithEvents": {
      "type": "object",
      "properties": {
        "Chats": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatChatWithEvents"
          }
        }
      }
    },
    "chatCondition": {
      "type": "object",
      "properties": {
        "Join": {
          "$ref": "#/definitions/chatJoinOperator"
        },
        "Key": {
          "type": "string"
        },
        "Operator": {
          "type": "string"
        },
        "Value": {
          "type": "string"
        }
      }
    },
    "chatEmpty": {
      "type": "object"
    },
    "chatId": {
      "type": "object",
      "properties": {
        "Id": {
          "type": "string"
        }
      }
    },
    "chatJoinOperator": {
      "type": "string",
      "enum": [
        "None",
        "And",
        "Or"
      ],
      "default": "None"
    },
    "chatRoute": {
      "type": "object",
      "properties": {
        "Rules": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatRule"
          }
        }
      }
    },
    "chatRule": {
      "type": "object",
      "properties": {
        "Id": {
          "type": "string"
        },
        "AccountId": {
          "type": "string"
        },
        "Priority": {
          "type": "string"
        },
        "Strategy": {
          "$ref": "#/definitions/chatAssignStrategy"
        },
        "AssignTos": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "Conditions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatCondition"
          }
        },
        "IsDisabled": {
          "type": "boolean",
          "format": "boolean"
        },
        "CreatedTime": {
          "type": "string"
        }
      }
    },
    "chatUser": {
      "type": "object",
      "properties": {
        "Id": {
          "type": "string"
        },
        "Type": {
          "$ref": "#/definitions/chatUserType"
        },
        "LastSeenId": {
          "type": "string"
        }
      }
    },
    "chatUserType": {
      "type": "string",
      "enum": [
        "UndefinedUserType",
        "Visitor",
        "Agent",
        "System"
      ],
      "default": "UndefinedUserType"
    }
  }
}
