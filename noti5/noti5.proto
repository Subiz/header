syntax = "proto2";

package noti5;

import "bitbucket.org/subiz/header/common/common.proto";

enum SettingType {
	new_message = 0;
	new_conversation = 1;
	nothing = 2;
}

message Setting {
    optional common.Context ctx = 1;
    optional string account_id = 2;
    optional string agent_id = 3;
	optional SettingType web = 4;
	optional SettingType mobile = 5;
	message Email {
		optional SettingType type = 1;
		optional int64 after = 2;
	}
	optional Email email = 6;
}

service Noti5Service {
    rpc ReadNotificationSetting(common.Id) returns (Setting) {};
    rpc UpdateNotificationSetting(Setting) returns (common.Empty) {};
}