{
  "swagger": "2.0",
  "info": {
    "title": "widget/widget.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "BusinessHoursHoliday": {
      "type": "object",
      "properties": {
        "year": {
          "type": "integer",
          "format": "int32"
        },
        "month": {
          "type": "integer",
          "format": "int32"
        },
        "day": {
          "type": "integer",
          "format": "int32"
        },
        "weekday": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "start_time": {
          "type": "string"
        },
        "end_time": {
          "type": "string"
        }
      }
    },
    "BusinessHoursWorkingDay": {
      "type": "object",
      "properties": {
        "weekday": {
          "type": "string"
        },
        "start_time": {
          "type": "string"
        },
        "end_time": {
          "type": "string"
        }
      }
    },
    "accountAccount": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "logo_url": {
          "type": "string"
        },
        "owner_id": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "created": {
          "type": "string",
          "format": "int64"
        },
        "confirmed": {
          "type": "string",
          "format": "int64"
        },
        "modified": {
          "type": "string",
          "format": "int64"
        },
        "slogan": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "zip_code": {
          "type": "integer",
          "format": "int32"
        },
        "tax_id": {
          "type": "string"
        },
        "facebook": {
          "type": "string"
        },
        "twitter": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "address": {
          "type": "string"
        },
        "url": {
          "type": "string"
        },
        "lang": {
          "type": "string"
        },
        "timezone": {
          "type": "string",
          "title": "optional string referer_from = 24;"
        },
        "limit": {
          "$ref": "#/definitions/paymentLimit"
        },
        "country": {
          "type": "string"
        },
        "v3_state": {
          "type": "integer",
          "format": "int32"
        },
        "date_format": {
          "type": "string"
        },
        "business_hours": {
          "$ref": "#/definitions/accountBusinessHours"
        },
        "referrer_from": {
          "type": "string"
        }
      }
    },
    "accountAgent": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "id": {
          "type": "string"
        },
        "account_id": {
          "type": "string"
        },
        "fullname": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "emails": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "phones": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "phone": {
          "type": "string"
        },
        "is_owner": {
          "type": "boolean",
          "format": "boolean"
        },
        "job_title": {
          "type": "string"
        },
        "gender": {
          "type": "string"
        },
        "avatar_url": {
          "type": "string"
        },
        "lang": {
          "type": "string"
        },
        "location": {
          "type": "string"
        },
        "timezone": {
          "type": "string"
        },
        "encrypted_password": {
          "type": "string"
        },
        "joined": {
          "type": "string",
          "format": "int64"
        },
        "invited_by": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "password_changed": {
          "type": "string",
          "format": "int64"
        },
        "seen": {
          "type": "string",
          "format": "int64"
        },
        "modified": {
          "type": "string",
          "format": "int64"
        },
        "account": {
          "$ref": "#/definitions/accountAccount",
          "title": "optional auth.Method method = 27;"
        },
        "country_code": {
          "type": "string"
        },
        "v3_state": {
          "type": "integer",
          "format": "int32"
        },
        "perm": {
          "$ref": "#/definitions/authPermission"
        }
      }
    },
    "accountBusinessHours": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "account_id": {
          "type": "string"
        },
        "id": {
          "type": "string"
        },
        "working_days": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BusinessHoursWorkingDay"
          }
        },
        "holidays": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BusinessHoursHoliday"
          }
        }
      }
    },
    "authCredential": {
      "type": "object",
      "properties": {
        "account_id": {
          "type": "string"
        },
        "issuer": {
          "type": "string"
        },
        "type": {
          "$ref": "#/definitions/authType"
        },
        "perm": {
          "$ref": "#/definitions/authPermission",
          "title": "Method method = 5;"
        },
        "client_id": {
          "type": "string"
        },
        "client_type": {
          "$ref": "#/definitions/authType"
        },
        "client_account_id": {
          "type": "string"
        },
        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "avatar_url": {
          "type": "string",
          "title": "optional"
        },
        "name": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "is_internal_client": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    },
    "authPermission": {
      "type": "object",
      "properties": {
        "account": {
          "type": "integer",
          "format": "int32"
        },
        "agent": {
          "type": "integer",
          "format": "int32"
        },
        "agent_password": {
          "type": "integer",
          "format": "int32"
        },
        "permission": {
          "type": "integer",
          "format": "int32"
        },
        "agent_group": {
          "type": "integer",
          "format": "int32"
        },
        "segmentation": {
          "type": "integer",
          "format": "int32"
        },
        "client": {
          "type": "integer",
          "format": "int32"
        },
        "rule": {
          "type": "integer",
          "format": "int32"
        },
        "conversation": {
          "type": "integer",
          "format": "int32"
        },
        "integration": {
          "type": "integer",
          "format": "int32"
        },
        "canned_response": {
          "type": "integer",
          "format": "int32"
        },
        "tag": {
          "type": "integer",
          "format": "int32"
        },
        "whitelist_ip": {
          "type": "integer",
          "format": "int32"
        },
        "whitelist_user": {
          "type": "integer",
          "format": "int32"
        },
        "whitelist_domain": {
          "type": "integer",
          "format": "int32"
        },
        "widget": {
          "type": "integer",
          "format": "int32"
        },
        "subscription": {
          "type": "integer",
          "format": "int32"
        },
        "invoice": {
          "type": "integer",
          "format": "int32"
        },
        "payment_method": {
          "type": "integer",
          "format": "int32"
        },
        "bill": {
          "type": "integer",
          "format": "int32"
        },
        "payment_log": {
          "type": "integer",
          "format": "int32"
        },
        "payment_comment": {
          "type": "integer",
          "format": "int32"
        },
        "user": {
          "type": "integer",
          "format": "int32"
        },
        "automation": {
          "type": "integer",
          "format": "int32"
        },
        "ping": {
          "type": "integer",
          "format": "int32"
        },
        "attribute": {
          "type": "integer",
          "format": "int32"
        },
        "agent_notification": {
          "type": "integer",
          "format": "int32"
        },
        "conversation_export": {
          "type": "integer",
          "format": "int32"
        },
        "conversation_report": {
          "type": "integer",
          "format": "int32"
        },
        "content": {
          "type": "integer",
          "format": "int32"
        },
        "pipeline": {
          "type": "integer",
          "format": "int32"
        },
        "currency": {
          "type": "integer",
          "format": "int32"
        },
        "service_level_agreement": {
          "type": "integer",
          "format": "int32"
        },
        "message_template": {
          "type": "integer",
          "format": "int32"
        },
        "agent_presence": {
          "type": "integer",
          "format": "int32"
        },
        "agent_preference": {
          "type": "integer",
          "format": "int32"
        },
        "promotion_code": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "authType": {
      "type": "string",
      "enum": [
        "unknown",
        "user",
        "agent",
        "subiz",
        "app",
        "rest",
        "connector",
        "bot",
        "dashboard",
        "accmgr"
      ],
      "default": "unknown",
      "title": "- app: APP is general client type\n - connector: CHANNEL is special client, that can and only listen chat topics of an account\n - bot: BOT reserve for future\n - accmgr: accmgr"
    },
    "commonContext": {
      "type": "object",
      "properties": {
        "event_id": {
          "type": "string"
        },
        "state": {
          "type": "string",
          "format": "byte"
        },
        "node": {
          "type": "string"
        },
        "reply_topic": {
          "type": "string"
        },
        "credential": {
          "$ref": "#/definitions/authCredential",
          "title": "optional int32 reply_partition = 5;"
        },
        "tracing": {
          "type": "string",
          "format": "byte"
        },
        "reply_key": {
          "type": "string"
        },
        "by_device": {
          "$ref": "#/definitions/commonDevice"
        },
        "topic": {
          "type": "string",
          "title": "for kafka"
        },
        "partition": {
          "type": "integer",
          "format": "int32"
        },
        "offset": {
          "type": "string",
          "format": "int64"
        },
        "term": {
          "type": "string",
          "format": "uint64"
        },
        "router_topic": {
          "type": "string"
        },
        "idempotency_key": {
          "type": "string"
        }
      }
    },
    "commonDevice": {
      "type": "object",
      "properties": {
        "ip": {
          "type": "string"
        },
        "user_agent": {
          "type": "string"
        },
        "screen_resolution": {
          "type": "string"
        },
        "timezone": {
          "type": "string"
        },
        "language": {
          "type": "string"
        },
        "referrer": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "platform": {
          "type": "string"
        },
        "source_referrer": {
          "type": "string"
        }
      }
    },
    "commonPong": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "paymentLimit": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "account_id": {
          "type": "string"
        },
        "max_automations": {
          "type": "integer",
          "format": "int64"
        },
        "max_segments": {
          "type": "integer",
          "format": "int64",
          "title": "optional uint32 max_conversations = 6;"
        },
        "max_agents": {
          "type": "integer",
          "format": "int64"
        },
        "can_buy_agent": {
          "type": "boolean",
          "format": "boolean"
        },
        "automation_webhook_quota": {
          "type": "integer",
          "format": "int64"
        },
        "automation_email_quota": {
          "type": "integer",
          "format": "int64"
        },
        "automation_message_quota": {
          "type": "integer",
          "format": "int64"
        },
        "max_rules": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "userAttributeData": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "account_id": {
          "type": "string"
        },
        "user_id": {
          "type": "string"
        },
        "key": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "created": {
          "type": "string",
          "format": "int64"
        },
        "modified": {
          "type": "string",
          "format": "int64"
        },
        "text": {
          "type": "string"
        },
        "number": {
          "type": "number",
          "format": "double"
        },
        "boolean": {
          "type": "boolean",
          "format": "boolean"
        },
        "datetime": {
          "type": "string"
        },
        "list": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "setter": {
          "type": "string"
        },
        "setter_type": {
          "type": "string"
        }
      }
    },
    "userCampaign": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "source": {
          "type": "string"
        },
        "medium": {
          "type": "string"
        },
        "term": {
          "type": "string"
        },
        "content": {
          "type": "string"
        }
      }
    },
    "userTrace": {
      "type": "object",
      "properties": {
        "event_id": {
          "type": "string"
        },
        "ip": {
          "type": "string"
        },
        "location_id": {
          "type": "integer",
          "format": "int32"
        },
        "city_name": {
          "type": "string"
        },
        "country_name": {
          "type": "string"
        },
        "continent_code": {
          "type": "string"
        },
        "latitude": {
          "type": "number",
          "format": "float"
        },
        "longitude": {
          "type": "number",
          "format": "float"
        },
        "postal_code": {
          "type": "string"
        },
        "timezone": {
          "type": "string"
        },
        "isp": {
          "type": "string"
        },
        "continent_name": {
          "type": "string"
        },
        "country_code": {
          "type": "string"
        },
        "platform": {
          "type": "string"
        },
        "device_type": {
          "type": "string"
        },
        "browser_name": {
          "type": "string"
        },
        "language": {
          "type": "string"
        },
        "user_agent": {
          "type": "string"
        },
        "screen_resolution": {
          "type": "string"
        },
        "ga_client_id": {
          "type": "string"
        },
        "ga_tracking_id": {
          "type": "string"
        },
        "ads_netword": {
          "type": "string"
        },
        "campaigns": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/userCampaign"
          }
        },
        "created": {
          "type": "string",
          "format": "int64"
        },
        "tracked": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "userUser": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "id": {
          "type": "string"
        },
        "account_id": {
          "type": "string"
        },
        "traces": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/userTrace"
          }
        },
        "is_ban": {
          "type": "boolean",
          "format": "boolean",
          "title": "repeated string alias = 12;"
        },
        "attributes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/userAttributeData"
          }
        },
        "segments": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "subiz_id": {
          "type": "string"
        },
        "aliases": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "par": {
          "type": "integer",
          "format": "int32"
        },
        "modified": {
          "type": "string",
          "format": "int64",
          "title": "optional int32 modified_hour = 35;"
        },
        "modified_week": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "widgetAllType": {
      "type": "object",
      "properties": {
        "theme": {
          "$ref": "#/definitions/widgetTheme"
        },
        "sound": {
          "$ref": "#/definitions/widgetSound"
        },
        "setting": {
          "$ref": "#/definitions/widgetSetting"
        },
        "us": {
          "$ref": "#/definitions/widgetUserSetting"
        }
      }
    },
    "widgetSetting": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "account_id": {
          "type": "string"
        },
        "widget_version": {
          "type": "string"
        },
        "sound": {
          "$ref": "#/definitions/widgetSound"
        },
        "language": {
          "type": "string"
        },
        "theme": {
          "$ref": "#/definitions/widgetTheme"
        },
        "replytime": {
          "type": "integer",
          "format": "int32"
        },
        "agents": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/accountAgent"
          }
        },
        "agent_ids": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "language_url": {
          "type": "string"
        },
        "custom_language_url": {
          "type": "string"
        },
        "css_url": {
          "type": "string"
        },
        "custom_css_url": {
          "type": "string"
        },
        "custom_language": {
          "type": "string"
        }
      }
    },
    "widgetSound": {
      "type": "object",
      "properties": {
        "account_id": {
          "type": "string"
        },
        "enabled": {
          "type": "boolean",
          "format": "boolean"
        },
        "new_conversation": {
          "type": "string"
        },
        "file_create": {
          "type": "string"
        },
        "new_message": {
          "type": "string"
        },
        "message_send_failed": {
          "type": "string"
        }
      }
    },
    "widgetTheme": {
      "type": "object",
      "properties": {
        "account_id": {
          "type": "string"
        },
        "custom_css": {
          "type": "string"
        },
        "widget_position": {
          "type": "string"
        },
        "window_mode": {
          "type": "string"
        }
      }
    },
    "widgetUserSetting": {
      "type": "object",
      "properties": {
        "ctx": {
          "$ref": "#/definitions/commonContext"
        },
        "account": {
          "$ref": "#/definitions/accountAccount"
        },
        "account_id": {
          "type": "string"
        },
        "user": {
          "$ref": "#/definitions/userUser"
        },
        "user_id": {
          "type": "string"
        },
        "sound_enabled": {
          "type": "boolean",
          "format": "boolean"
        },
        "language": {
          "type": "string"
        },
        "send_transcript": {
          "type": "boolean",
          "format": "boolean"
        },
        "account_setting": {
          "$ref": "#/definitions/widgetSetting"
        },
        "desktop_notification": {
          "type": "boolean",
          "format": "boolean"
        }
      }
    }
  }
}
